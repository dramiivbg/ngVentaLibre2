{"version":3,"sources":["./src/app/components/auth/login/login.component.ts","./src/app/components/auth/login/login.component.html","./src/app/components/auth/login/login.module.ts","./src/app/components/auth/login/login-routing.module.ts"],"names":[],"mappings":"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","file":"components-auth-login-login-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { from } from 'rxjs';\nimport {AuthService} from '@auth/auth.service';\nimport {FormBuilder, Validators} from '@angular/forms';\nimport { ThrowStmt } from '@angular/compiler';\nimport { Router } from '@angular/router';\nimport { Validator } from 'class-validator';\nimport Swal from 'sweetalert2';\nimport { User } from '@app/shared/models/user.interface';\nimport { AuthCrudService } from '@app/shared/services/authCrud.service';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  hide = true;\n\n\nuid = '';\n\n \n \n\n  constructor(private authSvc: AuthService,private router: Router,\n    private firestore: AuthCrudService) {\n\n          \n   \n\n\n    }\n  ngOnInit(): void {\n\n    \n  \n\n  \n  }\n\n\n  onLogin(emial,password){\n\n    console.log('correo->', emial.value);\n    console.log('password->', password.value);\n\n    if(emial.value == \"\" && password.value == \"\"){\n\n      Swal.fire('Porfavor introduzca su correo y contraseña');\n      \n      return;\n\n    } \n    \n    if(password.value == \"\"){\n\n      Swal.fire('porfavor introduzca su contraseña');\n      return;\n      \n    }\n  else if(emial.value == \"\"){\n    Swal.fire('porfavor introduzca su correo');\n    return;\n  }\nthis.authSvc.login(emial.value, password.value).then(res =>{\n\n\n\n  \n\n  if(res && res.user.emailVerified){\n\n   this.router.navigate(['/home']);\n    \n   } // else if(res){\n  //   this.authSvc.logout();\n  //   this.router.navigate(['/sendEmail']);\n\n  // }\n\n  const path = 'clientes';\n\n  this.firestore.getDoc<User>(path,res.user.uid).subscribe(user => {\n\n\n    if(user.encuesta.edad == 0 || user.encuesta.esperanza == \"\" || user.encuesta.ingreso == 0, \n    user.encuesta.nivelEscolar == \"\" || user.encuesta.productosPreferidos == \"\" ||\n    user.encuesta.sexo == \"\" || user.encuesta.trabajo == \"\" ){\n\n      this.router.navigate(['/encuesta']);\n    }\n  });\n  \n \n}).catch(err => {\n\n Swal.fire(err.message);\n \n});\n\n}\n  \n\n}","\n\n\n<mat-card>\n  \n        <mat-card-title>Login</mat-card-title>\n      \n \n\n            <mat-form-field>\n\n                <input type=\"email\" \n              #email matInput   placeholder=\"Username\" \n                required />\n\n\n            </mat-form-field>\n\n      \n        <p>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Enter your password</mat-label>\n                <input #password  matInput [type]=\"hide ? 'password' : 'text'\"   placeholder=\"Password\" \n                required>\n                <button mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\" [attr.aria-pressed]=\"hide\">\n                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\n                </button>\n            </mat-form-field>\n        </p>\n\n        <button type=\"submit\" mat-raised-button (click)=\"onLogin(email,password)\"\n        color=\"primary\">Login</button>\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        <a routerLink=\"/crearUser\">\n            create user\n        </a>&nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        &nbsp;\n\n        <a routerLink=\"/change-password\">\n            change Password\n        </a>\n     \n   \n  \n \n</mat-card>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport {MaterialModule} from '../../../material.module';\n\nimport {ReactiveFormsModule} from '@angular/forms';\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    MaterialModule,\n    ReactiveFormsModule,\n \n  ]\n})\nexport class LoginModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [{ path: '', component: LoginComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n"],"sourceRoot":"webpack:///"}